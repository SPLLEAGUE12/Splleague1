<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cricket SPL League - Registration & Profile</title>
    <style>
        body {
            font-family: sans-serif;
            margin: 0;
            padding: 0;
            background-color: #ed499e;
        }
        
        .spl-header {
            background-image: linear-gradient(to right, #d30d0d, #1600da);
            color: rgb(90, 155, 136);
            text-align: center;
            padding: 40px 0;
            margin-bottom: 20px;
        }
        
        .spl-header h1 {
            font-size: 3em;
            margin: 0;
        }
        
        .container {
            width: 80%;
            margin: 20px auto;
            background-color: #e9eeec;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        
        h2 {
            text-align: center;
            color: #007bff;
        }
        
        form {
            display: flex;
            flex-direction: column;
        }
        
        label {
            margin-top: 10px;
        }
        
        input,
        select {
            padding: 8px;
            margin-top: 5px;
            border: 1px solid #ec0909;
            border-radius: 4px;
        }
        
        button {
            margin-top: 20px;
            padding: 10px 15px;
            background-color: #007bff;
            color: rgb(238, 238, 238);
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        
        button:hover {
            background-color: #0056b3;
        }
        
        .spl-footer {
            text-align: center;
            padding: 20px 0;
            background-color: #077897;
            margin-top: 20px;
        }
        
        #profileSection {
            display: none;
        }
        
        #profileImage {
            max-width: 150px;
            max-height: 150px;
            border-radius: 50%;
            margin-bottom: 10px;
        }
        
        #statsSection {
            margin-top: 20px;
        }
        
        .stats-input {
            width: 50px;
        }
        
        #statsProfile {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }
        
        #statsProfile img {
            max-width: 50px;
            max-height: 50px;
            border-radius: 50%;
            margin-right: 10px;
        }
    </style>
</head>

<body>

    <div class="spl-header">
        <h1>Cricket SPL League</h1>
    </div>

    <div class="container" id="registrationFormContainer">
        <h2>Player Registration Form</h2>
        <form id="registrationForm">
            <label for="fullName">Full Name:</label>
            <input type="text" id="fullName" name="fullName" required>

            <label for="dateOfBirth">Date of Birth:</label>
            <input type="date" id="dateOfBirth" name="dateOfBirth" required>

            <label for="address">Address:</label>
            <input type="text" id="address" name="address" required>

            <label for="playingRole">Playing Role:</label>
            <select id="playingRole" name="playingRole">
                <option value="batsman">Batsman</option>
                <option value="bowler">Bowler</option>
                <option value="all-rounder">All-Rounder</option>
                <option value="wicket-keeper">Wicket-Keeper</option>
            </select>

            <label for="profilePicture">Profile Picture:</label>
            <input type="file" id="profilePicture" name="profilePicture" accept="image/*">

            <button type="submit">Register</button>
        </form>
    </div>

    <div class="container" id="profileSection">
        <h2>Your Profile</h2>
        <img id="profileImage" src="" alt="Profile Picture">
        <p><strong>Full Name:</strong> <span id="profileFullName"></span></p>
        <p><strong>Date of Birth:</strong> <span id="profileDateOfBirth"></span></p>
        <p><strong>Address:</strong> <span id="profileAddress"></span></p>
        <p><strong>Playing Role:</strong> <span id="profilePlayingRole"></span></p>

        <div id="statsSection">
            <h2>SPL Stats</h2>
            <div id="statsProfile">
                <img id="statsProfilePicture" src="" alt="Profile Picture">
                <span id="statsProfileName"></span>
            </div>
            <p><strong>Matches Played:</strong> <input type="number" id="matchesPlayed" class="stats-input" value="0"></p>
            <div id="battingStats">
                <h3>Batting Stats</h3>
                <p><strong>Runs Scored:</strong> <input type="number" id="runsScored" class="stats-input" value="0"></p>
                <p><strong>Batting Average:</strong> <span id="battingAverage">0</span></p>
                <p><strong>4s:</strong> <input type="number" id="fours" class="stats-input" value="0"></p>
                <p><strong>6s:</strong> <input type="number" id="sixes" class="stats-input" value="0"></p>
            </div>
            <div id="bowlingStats">
                <h3>Bowling Stats</h3>
                <p><strong>Wickets Taken:</strong> <input type="number" id="wicketsTaken" class="stats-input" value="0"></p>
                <p><strong>Bowling Average:</strong> <input type="number" id="bowlingAverage" class="stats-input" value="0"></p>
                <p><strong>Overs Bowled:</strong> <input type="number" id="oversBowled" class="stats-input" value="0"></p>
            </div>
        </div>
        <button id="updateStats">Update Stats</button>
        <button id="saveStats">Save Stats</button>
    </div>

    <div class="spl-footer">
        <p>&copy; 2025 SPL Cricket League. All rights reserved.</p>
    </div>

    <script>
        // Check if player is already registered
        if (localStorage.getItem('playerRegistered')) {
            document.getElementById('registrationFormContainer').style.display = 'none';
            document.getElementById('profileSection').style.display = 'block';

            // Load saved profile data if available
            document.getElementById('profileFullName').textContent = localStorage.getItem('fullName');
            document.getElementById('profileDateOfBirth').textContent = localStorage.getItem('dateOfBirth');
            document.getElementById('profileAddress').textContent = localStorage.getItem('address');
            document.getElementById('profilePlayingRole').textContent = localStorage.getItem('playingRole');
            document.getElementById('profileImage').src = localStorage.getItem('profilePicture');
            document.getElementById('statsProfileName').textContent = localStorage.getItem('fullName');
            document.getElementById('statsProfilePicture').src = localStorage.getItem('profilePicture');

            // Load saved stats
            document.getElementById('matchesPlayed').value = localStorage.getItem('matchesPlayed') || 0;
            document.getElementById('runsScored').value = localStorage.getItem('runsScored') || 0;
            document.getElementById('battingAverage').textContent = localStorage.getItem('battingAverage') || 0;
            document.getElementById('fours').value = localStorage.getItem('fours') || 0;
            document.getElementById('sixes').value = localStorage.getItem('sixes') || 0;
            document.getElementById('wicketsTaken').value = localStorage.getItem('wicketsTaken') || 0;
            document.getElementById('bowlingAverage').value = localStorage.getItem('bowlingAverage') || 0;
            document.getElementById('oversBowled').value = localStorage.getItem('oversBowled') || 0;

            const playingRole = localStorage.getItem('playingRole');

            if (playingRole === 'all-rounder') {
                document.getElementById('battingStats').style.display = 'block';
                document.getElementById('bowlingStats').style.display = 'block';
            } else if (playingRole === 'batsman') {
                document.getElementById('battingStats').style.display = 'block';
                document.getElementById('bowlingStats').style.display = 'none';
            } else if (playingRole === 'bowler') {
                document.getElementById('battingStats').style.display = 'none';
                document.getElementById('bowlingStats').style.display = 'block';
            } else {
                document.getElementById('battingStats').style.display = 'none';
                document.getElementById('bowlingStats').style.display = 'none';
            }
        } else {
            document.getElementById('registrationFormContainer').style.display = 'block';
            document.getElementById('profileSection').style.display = 'none';
        }

        document.getElementById('registrationForm').addEventListener('submit', function(event) {
            event.preventDefault();

            const fullName = document.getElementById('fullName').value;
            const dateOfBirth = document.getElementById('dateOfBirth').value;
            const address = document.getElementById('address').value;
            const playingRole = document.getElementById('playingRole').value;
            const profilePicture = document.getElementById('profilePicture').files[0];

            document.getElementById('profileFullName').textContent = fullName;
            document.getElementById('profileDateOfBirth').textContent = dateOfBirth;
            document.getElementById('profileAddress').textContent = address;
            document.getElementById('profilePlayingRole').textContent = playingRole;

            if (profilePicture) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    document.getElementById('profileImage').src = e.target.result;
                    document.getElementById('statsProfilePicture').src = e.target.result;
                    localStorage.setItem('profilePicture', e.target.result);
                };
                reader.readAsDataURL(profilePicture);
            }

            document.getElementById('registrationFormContainer').style.display = 'none';
            document.getElementById('profileSection').style.display = 'block';

            document.getElementById('statsProfileName').textContent = fullName;

            localStorage.setItem('playerRegistered', 'true');
            localStorage.setItem('fullName', fullName);
            localStorage.setItem('dateOfBirth', dateOfBirth);
            localStorage.setItem('address', address);
            localStorage.setItem('playingRole', playingRole);

            if (playingRole === 'all-rounder') {
                document.getElementById('battingStats').style.display = 'block';
                document.getElementById('bowlingStats').style.display = 'block';
            } else if (playingRole === 'batsman') {
                document.getElementById('battingStats').style.display = 'block';
                document.getElementById('bowlingStats').style.display = 'none';
            } else if (playingRole === 'bowler') {
                document.getElementById('battingStats').style.display = 'none';
                document.getElementById('bowlingStats').style.display = 'block';
            } else {
                document.getElementById('battingStats').style.display = 'none';
                document.getElementById('bowlingStats').style.display = 'none';
            }
        });

        document.getElementById('updateStats').addEventListener('click', function() {
            // ... (update stats logic) ...
            const matchesPlayed = parseInt(document.getElementById('matchesPlayed').value);
            const runsScored = parseInt(document.getElementById('runsScored').value);
            const fours = parseInt(document.getElementById('fours').value);
            const sixes = parseInt(document.getElementById('sixes').value);
            const wicketsTaken = parseInt(document.getElementById('wicketsTaken').value);
            const bowlingAverage = parseFloat(document.getElementById('bowlingAverage').value);
            const oversBowled = parseInt(document.getElementById('oversBowled').value);

            const battingAverage = matchesPlayed > 0 ? (runsScored / matchesPlayed).toFixed(2) : 0;
            document.getElementById('battingAverage').textContent = battingAverage;

            console.log('Stats updated:', {
                matchesPlayed,
                runsScored,
                battingAverage,
                fours,
                sixes,
                wicketsTaken,
                bowlingAverage,
                oversBowled
            });

            alert('Stats updated!');
        });

        document.getElementById('saveStats').addEventListener('click', function() {
            // Retrieve stats from input fields
            const matchesPlayed = parseInt(document.getElementById('matchesPlayed').value);
            const runsScored = parseInt(document.getElementById('runsScored').value);
            const fours = parseInt(document.getElementById('fours').value);
            const sixes = parseInt(document.getElementById('sixes').value);
            const wicketsTaken = parseInt(document.getElementById('wicketsTaken').value);
            const bowlingAverage = parseFloat(document.getElementById('bowlingAverage').value);
            const oversBowled = parseInt(document.getElementById('oversBowled').value);
            const battingAverage = document.getElementById('battingAverage').textContent;

            // Save stats to localStorage
            localStorage.setItem('matchesPlayed', matchesPlayed);
            localStorage.setItem('runsScored', runsScored);
            localStorage.setItem('battingAverage', battingAverage);
            localStorage.setItem('fours', fours);
            localStorage.setItem('sixes', sixes);
            localStorage.setItem('wicketsTaken', wicketsTaken);
            localStorage.setItem('bowlingAverage', bowlingAverage);
            localStorage.setItem('oversBowled', oversBowled);

            alert('Stats saved!');
        });
    </script>
</body>

</html>